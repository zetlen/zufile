<!doctype html>
<html>
  <head>
    <style type="text/css">
      body {
        width: 400px;
        min-height: 300px;
        background: #333333;
        color: #ffffff;
        font-family: sans-serif;
        font-size: 12pt;
      }

      dl {
        padding: 1em;
      }
      dt {
        display: inline-block;
        color: #d2463c;
        font-weight: bold;
        margin-right: 0.4em;
      }
      dd {
        display: inline-block;
      }
    </style>
    <script>


    var attrs = [];

    function setAttr(k, v) {
      attrs.push({ name: k, value: v});
    }

    function show() {
      var dl = document.createElement('dl');
      attrs.forEach(function(attr) {
        var dt = document.createElement('dt'),
        dd = document.createElement('dd');
        dt.appendChild(document.createTextNode(attr.name));
        dd.appendChild(document.createTextNode(attr.value));
        dl.appendChild(dt);
        dl.appendChild(dd);
      });
      var w = document.getElementById('wait');
      w.parentNode.removeChild(w);
      document.body.appendChild(dl);
    }

    function collectMozuData(data) {
      setAttr("Tenant Id", data.apiContext.headers['x-vol-tenant']);
      setAttr("Site Id", data.apiContext.header(['x-vol-site']);

      show(attrs);
    }

      /* Once the DOM is ready... */
      window.addEventListener("DOMContentLoaded", function() {
          /* ...query for the active tab... */
          chrome.tabs.query({
              active: true,
              currentWindow: true
          }, function(tabs) {
              /* ...and send a request for the DOM info... */
              chrome.tabs.sendMessage(
                      tabs[0].id,
                      { from: "popup", subject: "mozuinfo" },
                      /* ...also specifying a callback to be called 
                       *    from the receiving end (content script) */
                      collectMozuData);
          });
      });
    </script>
  </head>
  <body>
    <p id="wait">Please wait...</p>
  </body>
</html>